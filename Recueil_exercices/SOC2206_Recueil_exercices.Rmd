---
title: \vspace{3.5in}"Introduction à la statistique sociale? "
subtitle: "Recueil d'exercices"
author:
- Visseho Adjiwanou^[corresponding author - adjiwanou.vissého@uqam.ca]
- Sociology department, Université du Québec à Montréal (UQAM)
- Aoudou Njingouo Mounchingam (Contribution)
- Yao Jean Kouadio (Contribution)
date: "`r format(Sys.time(), '%d %B %Y')`"
output:
  pdf_document: default
  html_document: 
    toc: true
    toc_depth: 3
  word_document: default
  citation_package: natbib
  template: svm-latex-ms2.tex 
#bibliography: Remarriage_autonomy.bib

---

<!--
\newpage # adds new page after title
\tableofcontents # adds table of contents
\listoffigures
\listoftables
\newpage

-->


# Table des matières



\newpage

# Chapitre 1: Statistiques et variables

## Exercice 1: Du concept à la mesure

Marx a soutenu que le capitalisme est un mode de production économique basé sur le conflit entre deux classes de personnes: le capital (alias la bourgeoisie) et le travail (alias le prolétariat). L'appartenance à une classe est déterminée par sa relation avec les moyens de production. Le capital possède les moyens de production et le travail non. Au travail, les membres de la classe ouvrière vendent leur capacité de faire du travail (leur force de travail) au capital en échange d'un taux de salaire. Marx a affirmé que cela a pour effet d'aliéner les gens de leur travail parce que les individus ne contrôlent plus leur travail, ni le produit de leur travail.

Logiquement, cela a du sens; cependant, pouvons-nous mesurer l'aliénation d'une manière ou d'une autre pour offrir des preuves empiriques de son existence? L'aliénation de Marx existe au niveau conceptuel. Pouvez-vous penser à des moyens d'opérationnaliser l'aliénation?

**Aliénation**: condition dans laquelle les gens souffrent d'une «déconnexion» entre eux-mêmes et de leur travail et d'une déconnexion les uns des autres.

## Exercice 2: Variable dépendante, variable indépendante

Parmi les exemples suivants, identifier les variables et dire si elles constituent dans le contexte une variable dépendante ou indépendante.  Définissez aussi le type de variable en question.

1. Une démographe analyse l'évolution du taux de fécondité des femmes depuis 1960 selon l'origine ethnique et le degré de scolarité.

2. Dans une expérience sur le temps de réaction visuelle, on mesure le temps nécessaire pour percevoir des mots à connotation sexuelle par rapport à des mots non sexuels. Pour cette expérience, les chercheurs prennent bien soin de s'assurer que la vision des sujets leur permet de voir adéquatement les diapositives.

3. Un criminologue recherche des données sur la nature des infractions au Code criminel selon le sexe des accusés.

4. Lors d'une série d'expérience en psychologie sportive, on s'est rendu compte que chez les athlètes masculins, en situation de compétition relativement à celle de non compétition, il y a une augmentation du nombre de comportements complexes émis, mais qu'il y a une augmentation du nombre de comportements complexes émis, mais qu'il y a une baisse de la qualité de ceux-ci.

5. Des élèves du cours de psychologie expérimentale veulent étudier les sentiments de culpabilité des individus selon le type de délit qu'ils ont commis.

6. Un journaliste fait l'examen du pourcentage des intentions de vote des différents partis politiques québécois selon la langue parlée à la maison, le groupe d'âge et le degré de scolarité des électeurs.

## Exercice 3: Type de variables

Voici une série de questions issues d'un questionnaire:

1. Quel est ton sexe? Homme, Femme
2. Quel est ton âge? ___________ (en années)
3. Tu es en quelle année? 1e année, 2e année, junior, senior, autres
4. Vis-tu sur le campus ou fais-tu la navette hors campus? Sur le campus, hors campus
5. Quelle est ton ethnie/race?  ___________________
6. Te considères-tu comme un fumeur? Oui, Non
  a. Si oui, combien de cigarettes fumes-tu en moyenne par semaine? _______
  b. Si oui, depuis combien d'années fumes-tu? ___________
  c. Si oui, aimerais-tu cesser de fumer? Oui, Non
7. As-tu déjà essayé de cesser de fumer? Oui, Non
  a. Si oui, combien de fois as-tu essayé? ______________

Pour chacune de ces question, dites le type de mesure de la variable ?

## Question 4

Jean-Marc Leger, fondateur de la firme de sondage **Leger** a dressé la liste de résultats statistiques qu'il juge "drôles" pour égayer la fin de l'été 2013 des lecteurs du Journal de Montréal (https://www.journaldemontreal.com/2013/09/09/droles-de-statistiques)

Voici deux résultats de sa liste:

1. Les gens qui sont beaux peuvent gagner un salaire jusqu’à 15% plus élevé. Alors que si vous êtes plus grand, vous ne pouvez qu’espérer 3% de plus.

2. Une serveuse qui porte du rouge gagnera 15% de plus en pourboires. Un homme qui porte un vêtement avec un peu de rouge est perçu comme ayant un meilleur statut, plus riche, plus ambitieux et donc plus attirant.

A votre tour de refaire ces études. Pour chaque résultat dites (le cas échéant):

- A. La variable dépendante, son type et ces catégories;
- B. La variable indépendante, son type et ces catégories;

## Exercice 5: Texte de Matthews Salganik

Texte : https://www.bitbybitbook.com/fr/1st-ed/introduction/

- En quoi l'ère numérique change-t-elle le métier du sociologue?
- L'auteur parle dans son texte de "Readymade"et de "Custommade", Que signifie ces deux notions?
- Donnez-moi des exemples de chaque type que vous avez déjà rencontré

## Exercice 6: Texte de Jean-Guy Prévost

Texte: https://id-erudit-org.proxy.bibliotheques.uqam.ca/iderudit/1008237ar

- Quelle est la difficulté de mesurer l'évolution du Français au Québec ?
- D'autres éléments seront discutés en classe

## Exercice 7 : A votre tour

Dans votre groupe, chacun présente aux autres les sujets qui l'intéressent. Ensuite, vous vous mettez d'accord pour choisir un sujet et une question de recherche.

1. Indiquer comment vous irez chercher l'information
2. A qui adresserez-vous le questionnaire?
3. Présentez six questions importantes décrivant les différents types de variables
4. Quelles sont les limites de votre étude?
5. Vous allez présenter cela en classe

\newpage
  
# Chapitre 2: Fréquences et pourcentages


## Exercice 1: Préférence réligieuse

Le tableau suivant présente les résultats sur la préférence réligieuse:

                        Fréquence Pourc.         Pourc. valide        Pourc. cumulé
--------- ------------  --------- ------------- --------------------- -------------
Valide    Protestante    953      953/1500*100  953/1492*100 = 63.8   63.8
          Catholique     333                    333/1492*100 = 22.3   63.8+22.3 = 86.1
          Juive           31
          Aucune         140
          Autre           35
          Total         1492                                          100
Manquant  
          NSP              1
          NA               7
          Total            8
Total                   1500


Pourc. = Pourcentage
NSP = Ne sait pas
NA = Non réponse

Compléter le tableau avec les informations manquantes et répondez aux questions suivantes.

1. Quelle est la taille de l'échantillon?
2. Combien y-a-t'il de données manquantes?
3. Quels problèmes posent les données manquantes?
4. Combien de répondant.es sont des Protestant.es
5. Quel pourcentage des répondant.es sont des Protestant.es? 953/1492*100
6. Est-ce que la variable est nominale? ordinale? intervalle/ratio?
7. Quelle proportion des répondant.es sont des Catholiques? *333/1492*
8. Quelle proportions des répondant.es sont des Juifs?
9. Quelle pourcentage des répondant.es ne sont ni protestant.es ni Catholiques?
10. Présenter un graphique approprié à partir de ces données.
11. Commenter ces résultats.


## Exercice 2: Dents apparentes

À la naissance, les dents de lait sont déjà presque toutes formées, mais sont cachées sous les gencives. Il arrive que le bébé naisse avec quelques **dents apparentes**, mais c'est très rare. C'est généralement vers 6 mois que se fait l'apparition des premières dents. On a dénombré le nombre de dents de lait apparentes dans un échantillon de
20 filles et 20 garçons, âgés de 0 à 2 ans. Les Réponses sont reportées dans les deux tableaux suivants:

**Tableau garçon**
---- ---- ---- ---- ---- ---- ---- ---- ---- ----
0    1    10   4    14   10   2    8    4    14
6    11   13   15   16   4    0    12   16   3
---- ---- ---- ---- ---- ---- ---- ---- ---- ----

**Tableau fille**
---- ---- ---- ---- ---- ---- ---- ---- ---- ----
0    9    7    0    12   1    7    4    1    2
7    9    3    4    5    4    6    16   4    11
---- ---- ---- ---- ---- ---- ---- ---- ---- ----

1. Quelles sont les deux variables de ce tableau et quel est leur type respectif? 

`- sexe : nominale`
`- dents de lait : ratio `

2. Présenter le tableau de distribution (fréquence, pourcentage, pourcentage valide, pourcentage cumulé) de cette variable.

Garçon

Atrribut  Freq  Pourc.
0         2     2/20
1         1     1/20
2         1
3         1
4         3
6         1
8         1
10        2
11        1
12        1
13        1
14        2
15        1
16        2

N         20

3. Vous allez créer une nouvelle variable qui regroupe le nombre de dents de laits en classe selon:
- Nombre de dents de laits < 5
- Nombre de dents de laits >=5 et < 12
- Nombre de dents de laits >= 13

- Classe de dents de lait

                      Freq Pourcent 
Moins que 5           8
entre 5 et 13         6
Plus ou égale à 13    6
N                     20


3.1. Quelle est la nature de cette nouvelle variable?


3.2. Présenter le tableau de distribution (fréquence, pourcentage, pourcentage valide, pourcentage cumulé) de cette nouvelle variable?

4. Quelle représentation graphique est appropriée pour présenter les données des filles et des garçons?



## Entrée les données dans R

```{r}
#install.packages("tidyverse")
library(tidyverse)
library(summarytools)

garcon <- c(1, 1, 10, 4, 14, 10, 2, 8, 4, 14, 6, 11, 13, 15, 16, 4, 0, 12, 16, 3)
fille <- c(0, 9, 7, 0, 12, 1, 7, 4, 1, 2, 7, 9, 3, 4, 5, 4, 6, 16, 4, 11)
sexe <- c(rep("garcon", 20), rep("fille", 20))

donnee <- data.frame(sexe = sexe, nombre_dents = c(garcon, fille))


freq(garcon)


getmode <- function(v) {
   uniqv <- unique(v)
   uniqv[which.max(tabulate(match(v, uniqv)))]
}

Statistique <- donnee %>% 
  group_by(sexe) %>% 
  summarise(mode = getmode(nombre_dents),
            moyenne = mean(nombre_dents),
            mediane = median(nombre_dents),
            variance = var(nombre_dents),
            ecart_type = sd(nombre_dents),
            min = min(nombre_dents),
            max = max(nombre_dents),
            sca = sum((nombre_dents - moyenne)^2))
Statistique

```


# Chapitre 3: Paramètres de tendances centrales


# PARTIE A

Voici les résultats obtenus au cours d'une enquête sur l'âge et le statut matrimoniale des répondants.

**Tableau 1: Distribution du statut matrimonial**

Statut         Fréquence  Pourcentage   Pourcentage valide   Pourcentage cumulé
-------------- ---------- ------------- -------------------- -------------------
Marié          247        29.1          29.1                 29.1
Veuf           3          .4            .4                   29.4
Divorcé        36         4.2           4.2                  33.6
Séparé         14         1.6           1.6                  35.3
Jamais marié   550        64.7          64.7                 100.0
**Total**      **850**    **100.0**     **100.0**

Répondez aux questions suivantes:

1. Quel est le type de la variable étudiée?
2. Quel est la valeur du mode
3. Si vous pouvez utiliser la médiane, indiquez sa valeur. Sinon, dites que ce n'est pas possible et expliquer votre réponse.
4. Si vous pouvez utiliser la moyenne, indiquez sa valeur. Sinon, dites que ce n'est pas possible et expliquer votre réponse.
5. Quel est le problème avec ce tableau? Quelle solution préconisez-vous?

Au cours de la même enquête, on a collecté les données sur le groupe d'âges des enquêtés. les résultats sont présentés dans le tableau 2.

**Tableau 2: Distribution du groupe d'âges**

Groupe d'âge   Fréquence  Pourcentage   Pourcentage valide   Pourcentage cumulé
-------------- ---------- ------------- -------------------- -------------------
15 - 24        276
25 - 34        199
35 - 49        263
50 et plus     77
Non réponse    35
**Total**      **850**

1. Quel est le type de la variable étudiée?
2. Complétez le tableau
3. Quel est la valeur du mode?
4. Si vous pouvez utiliser la médiane, indiquez sa valeur. Sinon, dites que ce n'est pas possible et expliquer votre réponse.
5. Si vous pouvez utiliser la moyenne, indiquez sa valeur. Sinon, dites que ce n'est pas possible et expliquer votre réponse.

## Question 2

Voici les données issues d'une enquête dans une classe

Age     Nombre d'élèves
------- ------------------
10	    5
11	    7
12	    4

1. Quelle est la variable étudiée?
2. Quelle est la valeur de l'âge moyen de la classe?
3. Quelle est la valeur de l'âge modal de la classe?
4. Quelle est la valeur de l'âge médian de la classe?


# PARTIE B

# La solution technologique au changement climatique (exemple tiré de Krieg)

Beaucoup de gens pensent qu'en adoptant de nouvelles technologies, nous pouvons économiser à la fois de l'argent et protéger l'environnement en brûlant moins de combustibles fossiles. Cet exercice est tiré du livre de krieg, "Statistics and data analysis for Social Science".


## 1. Que pensez-vous de cette assertion? 


## 2. En quoi n'est-elle pas valide?

Pour tester cette assertion, nous utilisons les données de 1994 et de 2009 sur les voitures les plus efficients entre les deux périodes. Le tableau suivant présente les vitesses (mile per gallon, mpg) pour les différentes marques de voitures pour leur circulation en ville et sur l'autoroute:

- **Pour 1994**

Marque et modèle             Ville (mpg)            Autoroute(mpg)
---------------------------- ---------------------- ------------------------
Mazda 626                    23                     31
Honda Accord                 22                     29
Chevrolet Corsica            22                     28
Buick Century                22                     28
Oldsmobile Cutlass Ciera     22                     28
Oldsmobile Achieva           21                     32
Pontiac Grand Am             21                     32
Infiniti G20                 21                     29
Mitsubishi Galant            21                     28
Dodge Spirit                 21                     27
Plymouth Acclaim             21                     27
Subaru Legacy                20                     28
Toyota Camry                 20                     27
Hyundai Sonata               19                     26
Chrysler LeBaron             19                     25
Ford Taurus                  18                     27
Mercury Sable                18                     27
Eagle Vision                 18                     26



- **Pour 2009**

Marque et modèle            Ville (mpg)           Autoroute(mpg)
--------------------------- --------------------- ------------------------
Toyota Prius Hybrid)        48                    45
Nissan Altima (hybrid)      35                    33
Toyota Camry (hybrid)       33                    34
Chevrolet Malibu (hybrid)   26                    34
Saturn Aura (hybrid)        26                    34
Hyundai Elantra             25                    33
Kia Spectra                 24                    32
Nissan Altima               23                    32
Saturn Aura                 22                    33
Kia Optima                  22                    -
Hyundai Sonata              22                    32
Honda Accord                22                    31
Chevrolet Malibu            22                    30
Toyota Camry                21                    31
Volkswagen Passat           21                    31
Mazda 6                     21                    30
Chrysler Sebring            21                    30
Dodge Avenger               21                    30
Ford Fusion                 20                    29
Mercury Milan               20                    29
Mitsubishi Galant           20                    27
Subaru Legacy               20                    27
Nissan Maxima               19                    260
Nissan Altima               19                    26
Mercury Sable               18                    28
Hyundai Azera               18                    26
Buick LaCrosse/Allure       17                    28


## 3. Quelle est la taille de chaque échantillon




## 4. Éfficacité gagnée en ville

Vous allez calculé le mode, la médiane et la moyenne pour la vitesse en **ville** en 1994 et 2009. Quelle conclusion tirez-vous? A cette étape de l'exercice, je vous demande de faire les calculs à la main.



## 5. Éfficacité sur autoroute

Le calcul que vous venez de faire est trop long. On peut présenter les données précédentes sous forme de données agrégées. C'est quoi encore les données agrégées?

4.1 Regrouper les données de la **vitesse sur l'autoroute** sous forme agrégée. Cela veut dire qu'il faut dénombrer le nombre de voitures pour chaque niveau de vitesse. Faite cela pour les données de 1994 et de 2009.




### 5.1 Présenter dans ce même tableau les fréquences, et les fréquences cumulées


### 5.2 Quelle représentation graphique vous semble la plus appropriée pour ces données?




### 5.3 Calculer à nouveau le mode, la médiane et la moyenne à partir de ses données groupées. Quelle conclusion tirez-vous?



--------------- PAS NÉCESSAIRE LA QUESTION 6-------------------

## 6. Utilisation de R

Maintenant, nous allons utiliser R pour faire le même travail. Voici comment vous allez procéder.

1. Créer la base de données **donnee_1994** avec les variable suivantes:
  - modele
  - vitesse_ville et
  - vitesse_autoroute

Vous comprenez que cette base de données contient donc 18 observations pour 3 variables. Quelle est la nature de chaque variable?

### Réponse 1

```{r}


```


2. Calculer la moyenne, la médiane et le mode des deux variables **vitesse_ville** et **vitesse_autoroute** à partir des données **donnee_1994**. 

- Commenter vos résultats. Si vous vous rappelez, pour calculer la moyenne et la médiane, il faut utiliser les fonctions **mean** et **mediane**. 
- Cependant, il **N'existe PAS** de fonction **mode** pour calculer le mode. Je vous demande de faire quelques recherches et me venir avec une solution. Il est dès fois important de ne pas se focaliser pour comprendre ce que vous faites du moment où ça marche. Donnez-vous le temps de le comprendre plus tard.

3. Il y a plusieurs autres paramètres de tendance centrale que les trois que nous avons vus en classe. Vous avez le minimum, le maximum, le premier quartile, le 3e quartile et plus généralement les **ntiles**. Calculer ces différents paramètres sur les variables vitesse_ville et vitesse_autoroute. Commenter vos résultats. 

4. La fonction **descr** de summarytools vous permet aussi de calculer ces paramètres de tendance centrale. Utiliser cette fonction pour calculer les paramètres calculer au 2 et 3.

5. Maintenant, refaite la même chose avec les données de 2009.

6. Quelle conclusion tirez-vous sur la solution technologique au changement climatique?


# Présentation de BlueSky


## Introduction

Utiliser les données de l'enquête canadienne sur le revenu de 2015 pour répondre aux questions suivantes. On se limitera à une base de données réduites de cette base. Les variables retenues dans cette base sont:

- PERSONID: Person identifier (identifiant)
- AGEGP: Person's age group as of December 31 of reference year (groupe d'âge)
- SEX: Sex (Sexe du répondant)
- MARST: Marital status (Statut matrimonial)
- PROV: Province
- CFATINC: CF - After-tax income (Revenu familial après taxe)

Cette étape est déjà faite pour vous ici. 

La base de données se nomme CIS-72M0003-E-2015_F1.csv
Le fichier CIS-72M0003-E-2015_F1.pdf est ce qu'on appelle le dictionnaire de la base de données. Il décrit l'ensemble des variables et présente les fréquences.

## Question centrale

- Est-ce qu'il existe une inégalité de revenu entre les provinces du Canada?
- Est-ce qu'il existe une inegalité de revenu entre les hommes et les femmes au Canada?

## Comprendre notre base de données

Les différentes étapes à suivre:

1. Sélectionner les variables qui nous intéressent
2. Recoder, créer de nouvelles variables
3. Calculer les fréquences 
4. Calculer les paramètres de tendance centrale
5. Calculer les paramètres de variation
6. Visualisation


![](/Users/visseho/OneDrive - UQAM/Cours/Images_cours/graphique1.jpg)


# Chapitre: Statistique descriptive bivariée


# Introduction

Nous allons travailler avec 
- les données de l'enquête sociale du Canada de 1995 "cora-crsc1996-E-1996_F1.csv" et

# Croisement de deux variables qualitatives

Dans cet labo, nous visons deux objectifs:
1. De quelle manière les réponses des gens sur les questions sociales dépendent-elles de leur âge et sexe?

Pour cela, nous allons utiliser les données de l'enquête sociale du Canada de 1995 "cora-crsc1996-E-1996_F1.csv"

## Question 1

Charger ces données dans R.


## Question 2

A partir de ces données, sélectionner les variables suivantes: sexq, region, age, ageq, q1, q2, q3, q4, q44, q95. Vous créerez un nouveau fichier qui s'appelle crsc96_small.

## Question 3

Quelle est le niveau de mesure de chacune de ces variables?
N'oubliez pas de consulter le **codebook** de l'enquête.

## Question 4

Présenter les variables univariées appropriées sur chacune des variables suivantes: sexq, region, age, et q2. Commenter.

## Question 5

Présenter à l'aide du graphique approprié chacune de ces variables.

## Question 6

Présenter un tableau décrivant l'association entre le sexe et la variable q2. Commenter.

## Question 7

Présenter le résultat précédent sous forme de graphique. Comment appelle-t-on ce graphique?

## Question 8

Présenter un tableau décrivant l'association entre le groupe d'âges et la variable q2 pour chaque catégorie de la variable sexe. Qulle conclusion tirez-vous? Présenter ce résultat sous forme de graphique.


# Chapitre : mesure d'association


## 1. Tableau croisé et Chi-deux

A partir des données du tableau suivant:

id     Sexe         Emploi              Age
------ ------------ ------------------- ----------------
1      Masculin     Temps plein         27
2      Féminin      Non                 34
3      F            Partiel             22
4      F            Non                 38
5      M            Partiel             30
6      F            Temps plein         27 
7      M            Temps plein         33
8      M            Temps plein         39
9      F            Temps plein         36
10     F            Non                 25
11     M            Partiel             31
12     M            Partiel             28 
13     M            Non                 26 
14     F            Partiel             21
15     F            Temps plein         29
16     F            Temps plein         34
17     F            Non                 20
18     F            Non                 32
19     M            -                   27
20     F            Partiel             33
21     M            Temps plein         22
22     M            Non                 38
23     F            Non                 35
24     M            Temps plein         35
25     F            Temps plein         27
26     M            Temps plein         24
27     F            Temps plein         37
28     F            Non                 38
29     F            Temps plein         29
30     F            Temps plein         32
31     F            Non                 20
32     M            Partiel             24
33     M            Non                 26
34     M            Partiel             31
35     M            Temps plein         32 
36     F            Partiel             24


1. Dire quel est le type de chaque variable

2. Conjecturer sur la question de recherche qui a poussé à la collecte de ces données

3. Dresser un tableau croisé liant les deux variablesde sex et d'emploi, préciser les informations importantes du tableau (nom des colonnes et des lignes, effectifs, et effectifs marginaux)

4. Quelle conclusion tirez-vous sur ces deux variables? Quel est le problème avec cette conclusion?

5. Présenter un tableau de pourcentage marginal et commentez à nouveau.

6. Quel est le type de relation que vous observez entre ces deux variables?

7. Diriez-vous que cette relation est forte, modérée, faible ou nulle?

8. Calculer le Chi-deux

9. Déterminer le degré de liberté

10. Quelle conclusion tirez-vous sur votre confiance au résultat?

11. Si vous devez étudier la relation entre l'âge et l'emploi, comment procédériez-vous?


## 2. Test de chi-deux avec R

1. Entrer les données précédentes dans R
2. Présenter le tableau de fréquence de la variable sexe, et commentez
3. Présenter le tableau de fréquence de la variable emploi, et commentez
4. Quelle est la relation entre le sexe et l'emploi?
5. Cette relation est-elle **statistiquement** significative au seuil de signication de 5%?
6. Créer une nouvelle variable d'emploi que vous notez **emploi2** qui prend les valeurs suivantes:
  - Si emploi prend les valeurs  "non"" ou "temps partiel"", emploi2 prend la valeur "ne travaille pas"
  - Si emploi prend la valeur "Temps plein", emploi2 prend la valeur "Travaille" 
7. Créer aussi la nouvelle variable **groupe_age** qui prends deux valeurs:
  - Moins de 30 ans
  - 30 ans et plus
8. Étudiez à nouveau la relation entre le sexe et l'emploi, cette fois-ci séparément pour les moins de 30 ans et les 30 ans et plus
  
## 3. Labo 10

9. A partir de la réponse 1.8 ou 2.5, calculer les mesures d'intensité suivantes **à la main**:
- le coefficient de contingence de Pearson
- le V de Cramer
- le phi
- le coefficient de prédiction de Guttman (lambda)
- Gamma de Goodman et de Kruskal
- le Dyx de Somers
- le tau-b et 
- le tau-c

10. Refaites les mêmes calculs avec R


11. Maintenant, analyser l'association entre la variable groupe_age créée au 2.7 et l'employabilité.
- Présenter le tableau qui montre cette association
- Quel est le degré de liberté de ce tableau?
- Est-ce que cette association est significative au seuil de 1%?
- Calculer les mesures d'intensité suivantes à la main:
  - le coefficient de contingence de Pearson
  - le V de Cramer
  - le phi
  - le coefficient de prédiction de Guttman
  - Gamma de Goodman et de Kruskal
  - le Dyx de Somers
  - le tau-b et 
  - le tau-c
  
- Refaites les mêmes calcules cette fois-ci en utilisant R.

# Chapitre : Comparaison de moyenne


# Question 1

Supposons que vous ayez deux groupes d'étudiants, un groupe de majors en mathématiques et un groupe de majors en philosophie. Vous voulez en savoir plus sur leurs capacités de pensée critique. Vous demandez à chaque groupe de passer un test. Les résultats montrent que les 28 majors en mathématiques ont en moyenne un score de 88 avec un écart type de 6 et que les 19 majors en philosophie ont en moyenne un score de 90 avec un écart type de 3. Utilisez ces informations pour déterminer ce qui suit:
1. Énoncer votre hypothèse nulle
2. L'erreur type de la différence entre les moyennes
3. La statistique t
4. La différence entre les majors en mathématiques et les majors en philosophie est-elle statistiquement significative au niveau de signification de 1%? Expliquer.

# Question 2

Dans cet exercice, nous examinons les différences transnationales dans les attitudes envers la violence domestique et l'accès à l'information. Nous explorons l’hypothèse selon laquelle il existe une association à un niveau global, entre la mesure dans laquelle les individus dans un pays ont accès à la connaissance et aux nouvelles informations, à la fois, à travers la scolarisation formelle et par les médias, et leur probabilité de condamner les actes de violence conjugale. Cet exercice est en partie basé sur:

Pierotti, Rachel. (2013). "[Increasing Rejection of Intimate Partner Violence: Evidence of Global Cultural Diffusion](http://dx.doi.org/10.1177/0003122413480363)." *American Sociological Review*, 78: 240-265. **Un beau texte à lire si vous souhaitez**.

Nous utilisons les données des enquêtes démographiques et de santé (EDS), qui représentent un ensemble de plus de 300 enquêtes représentatives à l'échelle nationale, régionale et résidentielle menées dans des pays en développement du monde entier depuis 1992. Les enquêtes utilisent un plan d'échantillonnage en grappes, stratifié à deux degrés. Dans la première étape, les zones de dénombrement (ZD) sont tirés des fichiers de recensement. Dans la deuxième étape, dans chaque ZD, un échantillon de ménages est tiré d’une liste actualisée de ménages. En outre, les enquêtes ont des questionnaires identiques et des formations identiques pour les enquêteurs, permettant de comparer directement les données d'un pays avec celles collectées dans d'autres pays. Il est important de noter que différents groupes de pays sont interrogés chaque année.

Dans l'étude, l'auteur a utilisé ces données pour montrer que «les femmes ayant un meilleur accès aux scripts culturels mondiaux grâce à la vie urbaine, à l'enseignement secondaire ou à l'accès aux médias étaient plus susceptibles de rejeter la violence entre partenaires intimes». Les données se trouvent dans le fichier csv `dhs_ipv.csv`. Les noms et descriptions des variables sont les suivants:


Name             Description
---------------  ---------------------------------------------------------
`beat_goesout`     Pourcentage de femmes dans chaque pays qui pensent qu'un mari est justifié de battre sa femme
                 si elle sort sans le lui dire. 
`beat_burnfood`    Pourcentage de femmes dans chaque pays qui pensent qu'un mari a                                le droit de battre sa femme
                 si elle brûle sa nourriture.  
`no_media`         Pourcentage de femmes dans chaque pays qui ont rarement accès un 
                 journal, une radio ou une télévision.
`sec_school`       Pourcentage de femmes dans chaque pays ayant un niveau d'éducation                             secondaire ou supérieur.
`year`             Année de l'enqueête
`region`           Région du monde
`country`          pays


Notez qu'il existe deux indicateurs d'*attitudes envers la violence domestique*: `beat_goesout` et `beat_burnfood`. Ce sont ces variables que nous voulons expliquer/comprendre. On les appelle des variables dépendantes ou variables à expliquer ou des `outcomes`. Il existe également deux indicateurs d'*accès à l'information*: `sec_school` et `no_media`. Celles-ci sont appelées des variables explicatives.

Comme toujours, il faut prévoir un premier *chunck* où vous installez vos packages, les chargez et chargez la bse de données. C'est une procédure qu'il faut toujours suivre. Sachez aussi que vous devez ouvrir ce fichier RMarkDown et travailler directement dedans.


```{r, results='hide'}
rm(list = ls())     # Permet d'éffacer l'environnement

# Chargement 

library(tidyverse)
library(summarytools)

dhs <- read_csv("dhs_ipv.csv")

```


## T test

Est-ce que la violence diffère selon les régions ?

## T test


Comparer l'Afrique et l'Asie. Est-ce que la différence observée est due au hasard? Testé cela au niveau de signification de 5% ? Prenez soin de bien présenter votre hypothèse nulle et votre hypothèse alternative.

- Faites cela à la main et ensuite avec R.

# Question 3: dégré de fondamentalisme par niveau d'éducation

Le tableau suivant donne la relation entre l'éducation et le degré du fondamentalisme

                      libéral    Modéré    Fondamentaliste  
-------------------- ----------- --------- ----------------                    
Moins de 12 années    171        311       282              
12 années             317        452       387              
Plus de 12 années     839        947       628              


1. Quelle est la valeur du chi-carré?
2. Est-ce que la relation observée est-elle valable au sein de la population?
3. Calculer les mesures d'association suivantes et justifier pourquoi on peut les calculer ou pas. Énumérer leurs limites éventuelles.
3.1. Le coefficient de contingence de Pearson 
3.2. Le phi $\phi$
3.3. Le Lambda
3.4. Le Dxy de Somer

# Chapitre : Analyse de la variance


## QUESTION 1   


Supposons que vous souhaitiez en savoir plus sur la manière dont la vie sur le campus en première année influe sur la satisfaction générale à l'égard de l'expérience universitaire. Vous avez un échantillon de 30 personnes: 10 qui vivaient sur le campus, 10 qui vivaient à proximité du campus et 10 qui se rendaient sur le campus. Vous demandez ensuite aux répondants d'indiquer leur satisfaction globale à l'égard de leur expérience universitaire sur une échelle de 1 à 10. Vos données donnent les informations suivantes:

Sommes des carrés intergroupe = 93.3
Somme des carrés intra-groupe = 29,7
Somme totale des carrés = 123,0

1. Quelle est la valeur de la variance intergroupe?
2. Quelle est la valeur de la variance intra-groupe?
3. Quelle est la valeur de F?
4. Quelle est la valeur du ratio de corrélation ?
5. Les résultats sont-ils significatifs au seuil de signification de 0.05? de 0.01?

Remarque: Essayer de répondre à ces questions en créant des objets dans R et en utilisant R comme une calculatrice


## Réponse 

Question de recherche : satisfaction générale  à l'expérience universitaire?

De quelle manière la distance par rapport au campus influence la satisfaction générale à l'expérience universitaire?

- Variable dépendante : Satisfaction générale des étudiants
- Variable indépendante : Distance

Comment sont-elles mesurées?

- VD : échelle de Lickert : de 1 à 10 (variable quantitative, ratio)
- VI : distance par rapport à l'école, lieu où on réside (nominale)
  - Sur le campus
  - A proximité du campus
  - Loin du campus
  
On se trouve dans une configuration d'étude de l'association entre une variable dépendante quantitative et une variable indépendante qualitative.

Pour étudier l'association dans ce cas, on fait recours à l'analyse de la variance:
        groupe 1 (campus)    groupe 2 (proximité)   groupe 3 (hors)
1          3                   6
2          7
3
4
5
6
7
8
9
10

Pour l'analyse de la variance (ANOVA)
- Variance inter-groupe
- Variance intra-groupe
==> la statistique F


**Calculons la variance intra-groupe**
1. moyenne du groupe 
2. sommes des carrés intra-groupes
3. du degré de liberté (30 - 3 = 27)

==> variance intra-groupe = SC_intra/ddl_intra

**Calculons la variance inter-groupe
1. moyenne générale
2. moyenne de chaque groupe
3. taille de chaque groupe (k1, k2, k3)
4. Somme des carrés inter-groupe 
5. degré de liberté (3 - 1 = 2)

==> variance inter-groupe = SC_inter / ddl_inter

**Statistique F**

F = Variance inter-groupe / variance intra-groupe

**l'ampleur de la relation**

Eta carré = SC_inter / SC_totaux
SC_totaux = SC_Inter + SC_Intra

**Qu'est ce que je connais**

- Sommes des carrés intergroupe = 93.3
- Somme des carrés intra-groupe = 29,7
- Somme totale des carrés = 123,0
- N = 30
- k = 3
- n1 = 10, n2 = 10, n3 = 10

A partir de là,il est clair qu'on peut calculer les variances et le eta_carré.

Variance intra = 29.7/27 = 1.1
Variance inter = 93.3/2 = 46.65

F = 46.65 / 1.1 = 42.4

Au seuil de 5 % avec 2 degré de liberté au numérateur et 27 degree de liberté au dénominateur, on trouve F_lu = 3,35.

Conclusion: Mon F calculé etant plus grand que le F lu, je rejette l'hypothèse nulle. Il y a bien une association statistiquement sgnificative entre le lieu où on réside et le degré de satisfaction.


## QUESTION 2

Utiliser les données de l'enquête canadienne sur le revenu de 2015 pour répondre aux questions suivantes. On se limitera à une base de données réduites de cette base. Les variables retenues dans cette base sont:

- PERSONID: Person identifier (identifiant)
- AGEGP: Person's age group as of December 31 of reference year (groupe d'âge)
- SEX: Sex (Sexe du répondant)
- MARST: Marital status (Statut matrimonial)
- PROV: Province
- CFATINC: CF - After-tax income (Revenu familial après taxe)

Cette étape est déjà faite pour vous ici. 

```{r}
library(tidyverse)
library(summarytools)

cis_2015 <- read_csv("CIS-72M0003-E-2015_F1.csv")

cis_short <-
  cis_2015 %>% 
  select(PERSONID, AGEGP, SEX, MARST, PROV, CFATINC) %>% 
  mutate(Province = case_when(
    PROV == 10 ~ "Terre-Neuve-et-Labrador",
    PROV == 11 ~ "Ile du prince Edouard",
    PROV == 12 ~ "Nouvelle-Écosse",
    PROV == 13 ~ "Nouveau-Brunswick",
    PROV == 24 ~ "Québec",
    PROV == 35 ~ "Ontario",
    PROV == 46 ~ "Manitoba",
    PROV == 47 ~ "Saskatchewan",
    PROV == 48 ~ "Alberta",
    PROV == 59 ~ "Colombie Britanique"
  ),
  region = case_when(
    PROV <= 13 ~ "Atlantique",
    PROV == 24 ~ "Québec",
    PROV == 35 ~ "Ontario",
    PROV >=46 & PROV <= 48 ~ "Ouest",
    PROV == 59 ~ "Colombie Britanique"
  ),
  sexe = if_else(SEX == 1, "Male", "Female"))

#sort(cis_short$CFATINC)

freq(cis_short$MARST)

```

1. Calculer le revenu moyen dans chaque province, et globalement

```{r}

revenu_province <-
  cis_short %>% 
  group_by(Province) %>% 
  summarise(revenu_moyen = mean(CFATINC, na.rm = TRUE))

```

Comparons le Québec à l'Ontario. Est-ce que on gagne plus en Ontario qu'au Québec?

```{r}
quebec_ontario <-
  cis_short %>% 
  filter(Province == "Québec" | Province == "Ontario")

# 
ggplot(quebec_ontario) +
  geom_boxplot(aes(x = Province, y = CFATINC))

# Comparaison de moyenne

t.test(CFATINC ~ Province, data = quebec_ontario)

ddl <- 26663 - 2

## Enlevons les cas extrêmes

summary(quebec_ontario$CFATINC)

quebec_ontario_sca <- 
  quebec_ontario %>% 
  filter(CFATINC <=110000)
  
ggplot(quebec_ontario_sca) +
  geom_boxplot(aes(x = Province, y = CFATINC))

t.test(CFATINC ~ Province, data = quebec_ontario_sca)

```
t calculé vaut 21.792 et le t lu au seuil de 5% de significativité avec 26661 degree de liberté donne 1,96. Je rejette l'hypothèse nulle.

2. Quelles sont les tailles des échantillons dans chaque province et globalement?
3. Présenter un diagramme à moustache (boxplot) du revenu selon la province. Commentez.
4. Calculer les statistiques suivantes (vous devez utiliser au besoin la fonction summarise de manière ingénieuse:

- 4a. la somme des carrés intragroupe (à l'intérieur de chaque province)

- 4b. la somme des carrés intergroupe (entre les provinces)

5. Déterminer les degrés de liberté intragroupe et intergroupe
6. Calculer la statistique F.
7. Est-ce qu'il existe une association significative entre le revenu et la province de résidence au seuil de significativité de 5% (Donner la valeur du F lu)?
8. Calculer le ratio et corrélation et commenter.
9. Utiliser maintenant la fonction aov de R pour tester la différence de revenu entre les provinces.
10. Finalement, on veut savoir s'il y a inégalité de revenu entre les hommes et les femmes au Canada. Cependant, on ne peut pas utiliser le revenu familial pour répondre à cette question (pourquoi?). On va alors s'intéresser à un groupe particulier, ceux et celles qui sont encore célibataires. 

- 10a. Sélectionner la nouvelle base de données que vous appelez **cis_single** à partir de la base de données cis_short en sélectionnant uniquement les célibataires (voyez le codebook de l'enquête pour vous référer).

- 10b. calculer le revenu moyen des femmes célibataires et des hommes célibataires.

- 10c. Utiliser la fonction **t.test** pour tester le fait que le revenu moyen des femmes célibataires est différent du revenu moyen des hommes célibataires

## Réponse 3

```{r}

```




# Question 1

Supposons que vous souhaitiez en savoir plus sur la façon dont le fait de vivre sur le campus pendant la première année influence la satisfaction globale à l'égard de l'expérience universitaire. Vous échantillonnez 30 personnes: 10 qui vivaient sur le campus, 10 qui vivaient près du campus et 10 qui ont fait la navette vers le campus. Vous demandez ensuite aux répondants d'indiquer leur satisfaction globale à l'égard de leur expérience universitaire sur une échelle de 1 à 10. Vos données donnent les résultats suivants:

$SC_{Inter} = 93.3$
$SC_{Intra} = 29.7$

Utiliser ces informations pour répondre aux questions suivantes:

1. Quelles sont les variables à l'étude et quels sont leur type?
2. Quelle est la valeur du carré moyen intergroupe (encore appelé variance intergroupe)?
3. Quelle est la valeur du carré moyen intragroupe (encore appelé variance intragroupe)?
4. Quelle est la valeur de F?
5. Quelle est la valeur de Éta carré ($E^2$)?
6. Est-ce que les résultats sont significatifs au seuil de 5%? 1%? (Que comprenez-vous pas résultat significatif?)
  - Présenter votre hypothèse nulle
  

# Question 2: Analyse de variance avec vrai données


Baumann et Jones (Moore, D. S. and McCabe, G. P. (1993) Introduction to the Practice of Statistics,
Second Edition. New York: Freeman) ont conduit une étude expérimentale dans laquelle 66 enfants ont été assignés de manière aléatoire dans trois groupes différents. Les groupes représentent différentes méthodes d'enseignement: une méthode standard appelée **Basal** et deux nouvelles méthodes appelées **DTRA** et **Strat**. Les données sont présentées dans la base de donnée **Baumann** qui se trouve dans le package **carData**. Cette base de données contient les informations suivantes:

Variables                   Description
-------------------------   ---------------------------------------------
group                       Le groupe de l'enfant (Basal, DTRA, Strat)
pretest.1                   Pré-test 1 de compréhension de lecture
pretest.2                   Pré-test 2 de compréhension de lecture
post.test.1                 Post-test 1 de compréhension de lecture
post.test.2                 Post-test 2 de compréhension de lecture
post.test.3                 Post-test 3 de compréhension de lecture


Remarque: Chaque package contient un certain nombres de bases de données pour permettre de tester facilement les fonctions du package. Le code présenté si dessous vous permet de charger ces données.

```{r}
rm(list = ls())
#install.packages("carData")

library(tidyverse)
library(carData)
library(summarytools)
#data(package = "carData")       # Permet de savoir l'ensemble des bases de données inclus dans le package
data("Baumann", package = "carData")  # Charger la base de données Baumann

summary(Baumann)

```

1. Créer une nouvelle variable nommée **group1** où vous combinez ensemble les groupes **DRTA** et **Strat**. Ces deux groupes deviennent **DTST**.
2. On va s'intéresser par la suite aux variables pretest.1 et post.test.3. Calculer la moyenne, la variance et l'écart-type des scores de compréhension avant le nouveau programme (pretest.1) et après le programme (post.test.3) pour les deux nouveaux groupes.
3. Présenter le diagramme à moustache (boxplot) de ces deux scores selon les catégories du **group1**.
4. Est-ce que le nouveau programme améliore l'apprentissage des élèves? Tester cela au seuil de 5%.
5. Reprendre les questions 2 à 4 maintenant en travaillant avec les trois groupes distincts de la variable **group**. La différence entre cette question et les questions précédentes est que cette fois-ci vous avez 3 groupes (**Basal**, **DTRA**, et **Strat**) alors que précédemment vous avez deux groupes (**Basal** et **DTST**)

# Question 3 (A faire par vous-mêmes)

Supposons que vous souhaitiez en savoir plus sur l'isolement social. Vous émettez l'hypothèse que le fait de vivre dans des zones densément peuplées est associé à une socialisation plus fréquente avec des amis. Vous collectez des données auprès de 17 personnes des zones rurales (6), suburbaines (5) et urbaines (5). Le tableau ci-dessous contient vos données. 

                           Rural        Suburbain    Urbain          Total
-------------------------- ------------ ------------ --------------- -----------
Nombre de rencontres       3            1            3       
par mois avec des amis     4            3            2
                           2            1            4  
                           1            3            1
                           1            4            5
                           2            2 

Utilisez ces informations pour répondre aux questions suivantes:

1. Quelles sont les variables à l'étude et quels sont leur type?
2. Calculer la somme des carrés intergroupe
3. Calculer la somme des carrés intragroupe
4. Calculer la statistique F
5. Est-ce que les résultats sont significatifs au seuil de 5%? et de 1%? (Que comprenez-vous pas résultat significatif?)
6. Quelle est la valeur de Éta carré ($E^2$)?
7. Maintenant, considérer uniquement deux groupes:
  - ceux qui vivent en milieu urbain et
  - ceux qui ne vivent pas en milieu urbain (Rural + Suburbain)
  
7.1. Dresser un nouveau tableau qui présente ces résultats.

7.2. Existe-il une relation significative au niveau de signification de 5% entre le faire de vivre en milieu urbain et le nombre de rencontres avec les amis par mois?


# Chapitre : Regression linéaire


## Travaux pratiques

Les données du Tableau ci-dessous provenant de Data Bank donnent le poids corporel (lb) et la longueur corporelle (cm) des louves :

| Observation | 1 | 2| 3| 4|5| 6| 7|
|-------------|:---:|:---:|:---:|:---:|:---:|:---:|:---:|
|Poids (lb)   | 57 | 84| 90|	71|	77	|68|	73|
|Longueur (cm)  |123 | 129| 143|	125|	122|	125|	122|

1. Entrer les données dans R
2. Présenter un graphique montrant la relation entre le poids (variable dépendante) et la taille (variable indépendante)
3. Quelle  est le sens de cette relation?
4. En estimant que cette relation est linéaire, calculer les paramêtres $\alpha$ et $\beta$.
5. Calculé le poids prédit
6. Calculé le résidu

Rappel: 

- Coéficients estimés : $$\hat{\alpha} = \bar{Y} -  \hat{\beta} \bar{X}$$
$$\hat{\beta} = \frac{\sum_{i=1}^n(Y_i - \bar{Y})(X_i - \bar{X})}{\sum_{i=1}^n(X_i - \bar{X})^2}$$

- Valeur prédite de la variable dépendante: $$\hat{Y} = \hat{\alpha} +  \hat{\beta} X$$
- Résidue: $$\hat{\epsilon} = Y - \hat{Y}$$



